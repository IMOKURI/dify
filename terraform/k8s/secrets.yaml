apiVersion: v1
kind: Secret
metadata:
  name: dify-secrets
  namespace: dify
type: Opaque
stringData:
  # Database password (from Cloud SQL)
  DB_PASSWORD: "CHANGE_ME"
  
  # Redis password (if using auth)
  REDIS_PASSWORD: ""
  
  # Application secret key
  SECRET_KEY: "CHANGE_ME_STRONG_SECRET_KEY"
  
  # Sandbox API key
  SANDBOX_API_KEY: "dify-sandbox"
  CODE_EXECUTION_API_KEY: "dify-sandbox"
  
  # Weaviate API key
  WEAVIATE_API_KEY: "WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih"
  WEAVIATE_AUTHENTICATION_APIKEY_ALLOWED_KEYS: "WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih"
  
  # Celery broker URL (will be updated with Redis connection)
  CELERY_BROKER_URL: "redis://:@REDIS_HOST:6379/1"
  
  # Plugin daemon key
  PLUGIN_DAEMON_KEY: "lYkiYYT6owG+71oLerGzA7GXCgOT++6ovaezWAjpCjf+Sjc3ZtU+qUEi"
  PLUGIN_DIFY_INNER_API_KEY: "QaHbTe77CtuXmsfyhR7+vRjI/+XbV1AaFy691iy+kGDv2Jvy0/eAh8Y1"
  
  # GCS Bucket name (from Terraform output)
  GOOGLE_STORAGE_BUCKET_NAME: "CHANGE_ME"
  
  # GCS Service Account JSON (optional, uses Workload Identity by default)
  # GOOGLE_STORAGE_SERVICE_ACCOUNT_JSON_BASE64: ""

---
# Note: In production, use Google Secret Manager with External Secrets Operator
# or GKE Workload Identity to inject secrets instead of storing them in Kubernetes secrets
